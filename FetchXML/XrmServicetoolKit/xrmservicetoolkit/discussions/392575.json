[
  {
    "Id": "902412",
    "ThreadId": "392575",
    "Html": "\r\n<p>&nbsp;</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:#0000ff\">I'm trying to create quote detail like so, but it fails with a following error.</span></pre>\r\n<pre><span style=\"color:#0000ff\">Looks like it does ot like 'quantity' attribute, but I'm not sure.</span></pre>\r\n<pre><span style=\"color:#0000ff\">Please, help.</span></pre>\r\n<pre><span style=\"color:#0000ff\"><br></span></pre>\r\n<pre style=\"color:black\"><span style=\"color:blue\">var</span> quoteEntityType = <span style=\"color:#a31515\">'quotedetail'</span>;\r\nquoteDetailEntity = <span style=\"color:blue\">new</span> XrmServiceToolkit.Soap.BusinessEntity(quoteEntityType);\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'quoteid'</span>] = {\r\n    id : Xrm.Page.data.entity.getId(),\r\n    logicalName : <span style=\"color:#a31515\">'quote'</span>,\r\n    type : <span style=\"color:#a31515\">'EntityReference'</span>\r\n};\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'uomid'</span>] = {\r\n    <span style=\"color:green\">//id : Common.DefaultUomId,</span>\r\n    id : <span style=\"color:#a31515\">'{DB901D3B-6F88-E111-9D63-000C29A9E600}'</span>,\r\n    logicalName : <span style=\"color:#a31515\">'uom'</span>,\r\n    type : <span style=\"color:#a31515\">'EntityReference'</span>\r\n};\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'productid'</span>] = {\r\n    id : Xrm.Page.getAttribute(<span style=\"color:#a31515\">'its_productid'</span>).getValue()[0].id,\r\n    logicalName : <span style=\"color:#a31515\">'product'</span>,\r\n    type : <span style=\"color:#a31515\">'EntityReference'</span>\r\n};\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'priceperunit'</span>] = {\r\n    type : <span style=\"color:#a31515\">'Money'</span>,\r\n    value : Xrm.Page.getAttribute(<span style=\"color:#a31515\">'its_priceperunit'</span>).getValue()\r\n};\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'its_outgoingpriceperunit'</span>] = {\r\n    type : <span style=\"color:#a31515\">'Money'</span>,\r\n    value : Xrm.Page.getAttribute(<span style=\"color:#a31515\">'its_outgoingpriceperunit'</span>).getValue()\r\n};\r\nquoteDetailEntity.attributes[<span style=\"color:#a31515\">'quantity'</span>] = {\r\n    type : <span style=\"color:#a31515\">'number'</span>,\r\n    value : 2.0\r\n};\r\n\r\nXrmServiceToolkit.Soap.Create(quoteDetailEntity, <span style=\"color:blue\">null</span>);\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>\r\n<p>Exception:</p>\r\n<p></p>\r\n<div>\r\n<div><a href=\"file:///C:/Users/konstantin.konev/AppData/Local/Temp/VSD1.tmp.XML#\">-</a>\r\n<span>&lt;</span><span>s:Envelope</span><span> xmlns:s</span><span>=&quot;</span><strong>http://schemas.xmlsoap.org/soap/envelope/</strong><span>&quot;</span><span>&gt;</span></div>\r\n<div>\r\n<div>\r\n<div><a href=\"file:///C:/Users/konstantin.konev/AppData/Local/Temp/VSD1.tmp.XML#\">-</a>\r\n<span>&lt;</span><span>s:Body</span><span>&gt;</span></div>\r\n<div>\r\n<div>\r\n<div><a href=\"file:///C:/Users/konstantin.konev/AppData/Local/Temp/VSD1.tmp.XML#\">-</a>\r\n<span>&lt;</span><span>s:Fault</span><span>&gt;</span></div>\r\n<div>\r\n<div>\r\n<div><span></span><span>&lt;</span><span>faultcode</span><span> xmlns:a</span><span>=&quot;</span><strong>http://schemas.microsoft.com/net/2005/12/windowscommunicationfoundation/dispatcher</strong><span>&quot;</span><span>&gt;</span><span>a:DeserializationFailed</span><span>&lt;/</span><span>faultcode</span><span>&gt;</span></div>\r\n</div>\r\n<div>\r\n<div><span></span><span>&lt;</span><span>faultstring</span><span> xml:lang</span><span>=&quot;</span><strong>uk-UA</strong><span>&quot;</span><span>&gt;</span><span>The formatter threw an exception while trying to deserialize the message: There was an error while trying\r\n to deserialize parameter http://schemas.microsoft.com/xrm/2011/Contracts/Services:entity. The InnerException message was 'Error in line 1 position 1563. Element 'http://schemas.datacontract.org/2004/07/System.Collections.Generic:value' contains data from a\r\n type that maps to the name 'http://schemas.microsoft.com/2003/10/Serialization/:int'. The deserializer has no knowledge of any type that maps to this name. Consider changing the implementation of the ResolveName method on your DataContractResolver to return\r\n a non-null value for name 'int' and namespace 'http://schemas.microsoft.com/2003/10/Serialization/'.'. Please see InnerException for more details.</span><span>&lt;/</span><span>faultstring</span><span>&gt;</span></div>\r\n</div>\r\n<div><span></span><span>&lt;/</span><span>s:Fault</span><span>&gt;</span></div>\r\n</div>\r\n</div>\r\n<div><span></span><span>&lt;/</span><span>s:Body</span><span>&gt;</span></div>\r\n</div>\r\n</div>\r\n<div><span></span><span>&lt;/</span><span>s:Envelope</span><span>&gt;</span></div>\r\n</div>\r\n</div>\r\n<p></p>\r\n",
    "PostedDate": "2012-08-22T01:31:28.13-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "902497",
    "ThreadId": "392575",
    "Html": "<p>Hi.</p>\r\n<p>Only specific fields needs type assigned. Common types like string, int do not require a type when assigned. Give it a try and let me know</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre>quoteDetailEntity.attributes[<span style=\"color: #a31515;\">'quantity'</span>] = 2;\r\n</pre>\r\n</div>\r\n<p>Jaimie</p>",
    "PostedDate": "2012-08-22T05:34:18.173-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "902536",
    "ThreadId": "392575",
    "Html": "<p>Sorry, but this way it gets serialised as `object` and fails insertion. See this bit of code in businessEntity.serialize:</p>\r\n<p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre><span style=\"color: blue;\">switch</span> (sType) {</pre>\r\n<pre>//...\r\n    <span style=\"color: blue;\">default</span>:\r\n        value = (attribute.hasOwnProperty(<span style=\"color: #a31515;\">\"value\"</span>)) ? attribute[<span style=\"color: #a31515;\">\"value\"</span>] : attribute;\r\n        encodedValue = encodeValue(value);\r\n        sType = (<span style=\"color: blue;\">typeof</span> value === <span style=\"color: #a31515;\">\"object\"</span> &amp;&amp; value.getTime) ? <span style=\"color: #a31515;\">\"dateTime\"</span> : sType;\r\n        xml.push(<span style=\"color: #a31515;\">'&lt;b:value i:type=\"c:'</span>, sType, <span style=\"color: #a31515;\">'\" xmlns:c=\"http://www.w3.org/2001/XMLSchema\"&gt;'</span>, encodedValue, <span style=\"color: #a31515;\">'&lt;/b:value&gt;'</span>);\r\n        <span style=\"color: blue;\">break</span>;\r\n</pre>\r\n</div>\r\n</p>",
    "PostedDate": "2012-08-22T07:09:26.407-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "902934",
    "ThreadId": "392575",
    "Html": "<p>Hi.</p>\r\n<p>The problem was caused by a wrong xmlns for the logic to handle number type in JavaScript.</p>\r\n<p>you could try to use this code to overcome the issue.</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre>quoteDetailEntity.attributes[<span style=\"color: #a31515;\">'quantity'</span>] = {\r\n    type : <span style=\"color: #a31515;\">'int'</span>,\r\n    value : 2\r\n};\r\n\r\n</pre>\r\n</div>\r\n<p>Let me know</p>\r\n<p>Jaimie</p>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;</p>",
    "PostedDate": "2012-08-23T02:53:40.897-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "919578",
    "ThreadId": "392575",
    "Html": "\r\n<p>I built a clone record function using the SOAP create method and integers were failing, so I use the following:</p>\r\n<p>&nbsp;</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">case</span> <span style=\"color:#a31515\">&quot;integer&quot;</span>:\r\n                    <span style=\"color:blue\">if</span> (attribute.getValue() != <span style=\"color:blue\">null</span>) {\r\n                        newRecord.attributes[attribute.getName()] = { value: attribute.getValue(), type: <span style=\"color:#a31515\">&quot;int&quot;</span> };\r\n                    }\r\n                    <span style=\"color:blue\">break</span>;\r\n<span style=\"color:blue\">case</span> <span style=\"color:#a31515\">&quot;money&quot;</span>:\r\n                    <span style=\"color:blue\">if</span> (attribute.getValue() != <span style=\"color:blue\">null</span>) {\r\n                        newRecord.attributes[attribute.getName()] = { value: attribute.getValue(), type: <span style=\"color:#a31515\">&quot;Money&quot;</span> };\r\n                    }\r\n                    <span style=\"color:blue\">break</span>;\r\n<span style=\"color:blue\">case</span> <span style=\"color:#a31515\">&quot;optionset&quot;</span>:\r\n                    <span style=\"color:blue\">if</span> (attribute.getValue() != <span style=\"color:blue\">null</span>) {\r\n                        newRecord.attributes[attribute.getName()] = { value: attribute.getValue(), type: <span style=\"color:#a31515\">&quot;OptionSetValue&quot;</span> };\r\n                    }\r\n</pre>\r\n</div>\r\n<p>&nbsp;</p>\r\n<p>&nbsp;cheers, nzregs</p>\r\n",
    "PostedDate": "2012-09-29T23:43:42.717-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "952256",
    "ThreadId": "392575",
    "Html": "\r\n<blockquote style=\"border:solid .1em #ccc; font-style:italic; margin:.25em 1em 0 1em; padding:0 .25em 0 .25em\">\r\nHello,</blockquote>\r\n<blockquote style=\"border:solid .1em #ccc; font-style:italic; margin:.25em 1em 0 1em; padding:0 .25em 0 .25em\">\r\nWhat if the type is decimal ?</blockquote>\r\n",
    "PostedDate": "2012-12-06T05:51:31.587-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "953368",
    "ThreadId": "392575",
    "Html": "\r\n<p>Hi Fabson.</p>\r\n<p>Try this code.</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:green\">//overcome limitations of numbers with type specified.... </span>\r\ncreateContact.attributes[<span style=\"color:#a31515\">&quot;numberofchildren&quot;</span>] = { value: 2, type: <span style=\"color:#a31515\">&quot;int&quot;</span>}; \r\n\r\ncreateContact.attributes[<span style=\"color:#a31515\">&quot;exchangerate&quot;</span>] = {value: 1.5617, type: <span style=\"color:#a31515\">&quot;decimal&quot;</span>}; \r\n\r\ncreateContact.attributes[<span style=\"color:#a31515\">&quot;address1_latitude&quot;</span>] = { value: 1.5617, type: <span style=\"color:#a31515\">&quot;double&quot;</span> }; \r\n\r\ncreateContact.attributes[<span style=\"color:#a31515\">&quot;creditlimit&quot;</span>] = { value: 2, type: <span style=\"color:#a31515\">&quot;Money&quot;</span> }; \r\n\r\n</pre>\r\n</div>\r\n<p>Jaimie</p>\r\n",
    "PostedDate": "2012-12-08T12:32:26.243-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1279759",
    "ThreadId": "392575",
    "Html": "Hello Jaimie,\r<br />\n<br />\nI'm currently stuck in this issue of deserialization error and can't find the solution to it. I've tried a couple of tricks I've seen online even the last post you suggested in this topic but still keep getting the same message saying that the Entity Team does not map (Text below). Did you ever figure out what exactly could be causing this? I keep finding issues related to EnableProxyTypes, etc. related to plugins but nothing with this error on JS other than this and a couple others. Would there be something internally in CRM that I need to change to get this to work. I did update this organization from UR 11 to 12 after testing the 11 thoroughly. Any ideas? <br />\n<pre><code>Microsoft Dynamics CRM Error Report Contents\n\n&lt;CrmScriptErrorReport&gt;\n  &lt;ReportVersion&gt;1.0&lt;/ReportVersion&gt;\n  &lt;ScriptErrorDetails&gt;\n   &lt;Message&gt;The formatter threw an exception while trying to deserialize the message: There was an error while trying to deserialize parameter http://schemas.microsoft.com/xrm/2011/Contracts/Services:entity. The InnerException message was 'Error in line 1 position 883. Element 'http://schemas.datacontract.org/2004/07/System.Collections.Generic:value' contains data from a type that maps to the name 'http://www.w3.org/2001/XMLSchema:team'. The deserializer has no knowledge of any type that maps to this name. Consider changing the implementation of the ResolveName method on your DataContractResolver to return a non-null value for name 'team' and namespace 'http://www.w3.org/2001/XMLSchema'.'.  Please see InnerException for more details.&lt;/Message&gt;\n   &lt;Line&gt;1622&lt;/Line&gt;\n   &lt;URL&gt;/%7B635424450250003236%7D/WebResources/rst_XrmServiceToolkit&lt;/URL&gt;\n   &lt;PageURL&gt;/userdefined/edit.aspx?etc=112&amp;id=%7b12CE178D-C54E-C3C7-91E3-55DEC0E8FC20%7d&amp;pagemode=iframe&lt;/PageURL&gt;\n   &lt;Function&gt;anonymousheformatterthrewanexceptionwhiletryingtodeserializethemessage:Therewasanerrorwhiletryingtodeserializeparameterhttp://schemas.microsoft.com/xrm/2011/Contracts/Services:entity.TheInnerExceptionmessagewas'Errorinline1position883.Element'http://schem&lt;/Function&gt;\n   &lt;CallStack&gt;\n    &lt;Function&gt;anonymousheformatterthrewanexceptionwhiletryingtodeserializethemessage:Therewasanerrorwhiletryingtodeserializeparameterhttp://schemas.microsoft.com/xrm/2011/Contracts/Services:entity.TheInnerExceptionmessagewas'Errorinline1position883.Element'http://schemas.datacontract.org/2004/07/System.Collections.Generic:value'containsdatafromatypethatmapstothename'http://www.w3.org/2001/XMLSchema:team'.Thedeserializerhasnoknowledgeofanytypethatmapstothisname.ConsiderchangingtheimplementationoftheResolveNamemethodonyourDataContractResolvertoreturnanon-nullvalueforname'team'andnamespace'http://www.w3.org/2001/XMLSchema'.'.PleaseseeInnerExceptionformoredetails.&lt;/Function&gt;\n   &lt;/CallStack&gt;\n  &lt;/ScriptErrorDetails&gt;\n  &lt;ClientInformation&gt;\n   &lt;BrowserUserAgent&gt;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; .NET4.0C; .NET4.0E)&lt;/BrowserUserAgent&gt;\n   &lt;BrowserLanguage&gt;en-US&lt;/BrowserLanguage&gt;\n   &lt;SystemLanguage&gt;en-US&lt;/SystemLanguage&gt;\n   &lt;UserLanguage&gt;en-US&lt;/UserLanguage&gt;\n   &lt;ScreenResolution&gt;1920x1080&lt;/ScreenResolution&gt;\n   &lt;ClientName&gt;Web&lt;/ClientName&gt;\n   &lt;ClientTime&gt;2014-07-31T19:22:39&lt;/ClientTime&gt;\n  &lt;/ClientInformation&gt;\n  &lt;ServerInformation&gt;\n    &lt;OrgLanguage&gt;1033&lt;/OrgLanguage&gt;\n    &lt;OrgCulture&gt;1033&lt;/OrgCulture&gt;\n    &lt;UserLanguage&gt;1033&lt;/UserLanguage&gt;\n    &lt;UserCulture&gt;1033&lt;/UserCulture&gt;\n    &lt;OrgID&gt;{FFAE8A98-B228-4617-981B-4A9902535006}&lt;/OrgID&gt;\n    &lt;UserID&gt;{0A51B463-DF74-E011-81B3-00155D7A7A17}&lt;/UserID&gt;\n    &lt;CRMVersion&gt;5.0.9690.3236&lt;/CRMVersion&gt;\n  &lt;/ServerInformation&gt;\n&lt;/CrmScriptErrorReport&gt;\n\n</code></pre>\n\n",
    "PostedDate": "2014-07-31T16:25:37.23-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1286556",
    "ThreadId": "392575",
    "Html": "Hi HectorTosado.\r<br />\n<br />\nA possible reason is that the query passed is not encoded properly, so CRM will not be able to read it. \r<br />\n<br />\nIt will be great if you can provide more details about the problem. How did you write your code and how it was called. \r<br />\n<br />\nKind Regards,\r<br />\nJaimie<br />\n",
    "PostedDate": "2014-08-05T09:32:40.393-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1291560",
    "ThreadId": "392575",
    "Html": "Hello Jaimieji, \r<br />\n<br />\nI did this stackoverflow question to explain my issue. \r<br />\n<a href=\"http://stackoverflow.com/questions/25169143/error-while-trying-to-deserialize-a-message-using-xrmservicetoolkit-in-crm-2011?noredirect=1#comment39194364_25169143\" rel=\"nofollow\">StackOverFlow Question</a>\r<br />\n<br />\nBeen at it for awhile now and I believe the issue lies with how I'm setting the value in Javascript and how XrmServiceToolkit is serializing it so CRM can understand it. At the moment I've been presented with 2 issues:\r<br />\n<br />\nFirst issue was when assigning a team to an owner field, using CRMServiceToolkit using<br />\n<pre><code>var oOwnerObject = new Object();\noOwnerObject.type = oTempSA.attributes[&quot;ownerid&quot;].entityType;\noOwnerObject.value = oTempSA.attributes[&quot;ownerid&quot;].id;\noSA.attributes[&quot;ownerid&quot;] = oOwnerObject;</code></pre>\n\nWorked like a charm. But when upgrading to UR 12 and thus having to change to XrmServiceToolkit I had to change it to <br />\n<pre><code>oSA.attributes[&quot;ownerid&quot;] = {\n    id : oTempSA.attributes[&quot;ownerid&quot;].id,\n    logicalName : oTempSA.attributes[&quot;ownerid&quot;].entityType,\n    type : 'EntityReference'\n};</code></pre>\n\nI still haven't been able to test it completely since I still have other issues with the serialization but it doesn't display the error related to Team entity not mapping.\r<br />\n<strong>oTempSA is just another SA</strong>\r<br />\n<br />\nSecond issue is with Activity Party's. Service Activity entity has a required field of equipment and the way I set this in CRMServiceToolkit was<br />\n<pre><code>        var oActivityParty = new Object();\n        oActivityParty.partyid = new Object();\n        oActivityParty.partyid.type = &quot;equipment&quot;;\n        //oActivityParty.partyid.typecode = &quot;4000&quot;;        \n        oActivityParty.partyid.value = szDefaultResourceFetchResults[0].getValue('equipmentid');\n\n        var oActivityPartyList = new Array();\n        oActivityPartyList[0] = new Object();\n        oActivityPartyList[0].activityparty = oActivityParty;\n\n        oSA.attributes[&quot;resources&quot;] = oActivityPartyList;</code></pre>\n\nWhere a member of my team had to go to the toolkit and change the serialization method and add a if parameter to call a special method in case an Activity Party was being set in the request. <br />\n<pre><code>    _businessEntity.prototype.serialize = function () {\n        var xml = '&lt;entity xsi:type=&quot;' + this.name + '&quot;&gt;';\n        for (var attributeName in this.attributes) {\n            var attribute = this.attributes[attributeName];\n\n            var value;\n            if (attribute == null) {\n                value = &quot;&quot;;\n            }\n            else {\n                value = attribute.value || attribute;\n            }\n\n            xml +=\n                '&lt;' + attributeName + (!attribute ? '' : (!attribute.type ? '' : ' type=&quot;' + CrmEncodeDecode.CrmXmlEncode(attribute.type) + '&quot;')) + '&gt;' +\n                    ((typeof value === &quot;object&quot; &amp;&amp; value.getTime)\n                        ? _encodeDate(value)\n                         : (typeof value === &quot;object&quot; &amp;&amp; typeof value[0] === &quot;object&quot; &amp;&amp; typeof value[0].activityparty === &quot;object&quot;)\n                            ? this.serializePartyList(value)\n                            : CrmEncodeDecode.CrmXmlEncode(value)) +\n                '&lt;/' + attributeName + '&gt;';\n        }\n\n        xml += '&lt;/entity&gt;';\n        return xml;\n    };\n\n    _businessEntity.prototype.serializePartyList = function (partylist) {\n\n        var xml = '';\n        for (i = 0; i &lt; partylist.length; i++) {\n            xml += '&lt;activityparty&gt;';\n            xml += '&lt;partyobjecttypecode&gt;' + partylist[i].activityparty.partyid.type + '&lt;/partyobjecttypecode&gt;';\n            xml += '&lt;partyid&gt;' + CrmEncodeDecode.CrmXmlEncode(partylist[i].activityparty.partyid.value) + '&lt;/partyid&gt;';\n            xml += '&lt;/activityparty&gt;';\n        }\n        return xml;\n    };\n</code></pre>\n\nThis issue I'm still trying to solve on how to do it on XrmServiceToolkit as I'm getting the following error when I try and utilize this method:<br />\n<pre><code>Microsoft Dynamics CRM Error Report Contents\n&lt;CrmScriptErrorReport&gt;\n  &lt;ReportVersion&gt;1.0&lt;/ReportVersion&gt;\n  &lt;ScriptErrorDetails&gt;\n   &lt;Message&gt;The formatter threw an exception while trying to deserialize the message: There was an error while trying to deserialize parameter http://schemas.microsoft.com/xrm/2011/Contracts/Services:entity. The InnerException message was 'There was an error deserializing the object of type Microsoft.Xrm.Sdk.Entity. The token '&quot;' was expected but found '&lt;'. Line 1, position 4137.'.  Please see InnerException for more details.&lt;/Message&gt;\n   &lt;Line&gt;1747&lt;/Line&gt;\n   &lt;URL&gt;/%7B635440774190003236%7D/WebResources/rst_XrmServiceToolkit&lt;/URL&gt;\n   &lt;PageURL&gt;/userdefined/edit.aspx?_gridType=112&amp;etc=112&amp;id=%7b95152054-55CC-2080-4993-4141B591C701%7d&amp;pagemode=iframe&amp;rskey=878223951&lt;/PageURL&gt;\n   &lt;Function&gt;anonymousheformatterthrewanexceptionwhiletryingtodeserializethemessage:Therewasanerrorwhiletryingtodeserializeparameterhttp://schemas.microsoft.com/xrm/2011/Contracts/Services:entity.TheInnerExceptionmessagewas'TherewasanerrordeserializingtheobjectoftypeM&lt;/Function&gt;\n   &lt;CallStack&gt;\n    &lt;Function&gt;anonymousheformatterthrewanexceptionwhiletryingtodeserializethemessage:Therewasanerrorwhiletryingtodeserializeparameterhttp://schemas.microsoft.com/xrm/2011/Contracts/Services:entity.TheInnerExceptionmessagewas'TherewasanerrordeserializingtheobjectoftypeMicrosoft.Xrm.Sdk.Entity.Thetoken'&quot;'wasexpectedbutfound'&lt;'.Line1,position4137.'.PleaseseeInnerExceptionformoredetails.&lt;/Function&gt;\n   &lt;/CallStack&gt;\n  &lt;/ScriptErrorDetails&gt;\n  &lt;ClientInformation&gt;\n   &lt;BrowserUserAgent&gt;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/7.0; SLCC2; .NET CLR 2.0.50727; .NET4.0C; .NET4.0E; .NET CLR 3.5.30729; .NET CLR 3.0.30729)&lt;/BrowserUserAgent&gt;\n   &lt;BrowserLanguage&gt;en-US&lt;/BrowserLanguage&gt;\n   &lt;SystemLanguage&gt;en-US&lt;/SystemLanguage&gt;\n   &lt;UserLanguage&gt;en-US&lt;/UserLanguage&gt;\n   &lt;ScreenResolution&gt;1440x900&lt;/ScreenResolution&gt;\n   &lt;ClientName&gt;Web&lt;/ClientName&gt;\n   &lt;ClientTime&gt;2014-08-20T00:53:24&lt;/ClientTime&gt;\n  &lt;/ClientInformation&gt;\n  &lt;ServerInformation&gt;\n    &lt;OrgLanguage&gt;1033&lt;/OrgLanguage&gt;\n    &lt;OrgCulture&gt;1033&lt;/OrgCulture&gt;\n    &lt;UserLanguage&gt;1033&lt;/UserLanguage&gt;\n    &lt;UserCulture&gt;1033&lt;/UserCulture&gt;\n    &lt;OrgID&gt;{1DE5A3AE-575F-4384-923E-D13D77A1A66F}&lt;/OrgID&gt;\n    &lt;UserID&gt;{287532DE-724C-E311-90C1-54624E0DB60E}&lt;/UserID&gt;\n    &lt;CRMVersion&gt;5.0.9690.3236&lt;/CRMVersion&gt;\n  &lt;/ServerInformation&gt;\n&lt;/CrmScriptErrorReport&gt;\n\n</code></pre>\n\n",
    "PostedDate": "2014-08-19T22:13:22.963-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1292141",
    "ThreadId": "392575",
    "Html": "Hey Jaimie, \r<br />\n<br />\nGot it working correctly by defining an acitivty party like so in JS and then XrmServiceToolkit wouldcorrectly serialize it:<br />\n<pre><code>    //Create new Array with EntityCollection Type\n    var partylist = new Array();\n    partylist.type = 'EntityCollection';\n    //Create object in array to define what in the partylist. \n    partylist[0] = new Object();\n    partylist[0].id = szDefaultResourceFetchResults[0].getValue('equipmentid'); //Guid (i.e., Guid of User or Contact etc)\n    partylist[0].name = szDefaultResourceFetchResults[0].getValue('name'); //Name (i.e., Name of User or Contact etc)\n    partylist[0].logicalName = &quot;equipment&quot;; //entity schema name of account or contact\n    //Assign Value\n    oSA.attributes[&quot;resources&quot;] = partylist;\n</code></pre>\n\n",
    "PostedDate": "2014-08-21T09:17:07.237-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]