[
  {
    "Id": "834843",
    "ThreadId": "355377",
    "Html": "<p>Fetch works great (most of the time) but today I wanted the Account ID and Account Name and all I had was the Contact ID.&nbsp; So I did a join using the following query but I got back really wierd results.&nbsp; For example, the Account ID had a value of \"accountidaccountxxxxxx-xxxx-xxxx-xxxxxxxx\" and the Account Name had a value of \"nameaccountTHEACCOUNTNAME\".&nbsp; So it appears that it is adding a prefix to the value.&nbsp; It does not do this if<br />you are not linking entities in your query.</p>\n<p><span style=\"font-family: Consolas; font-size: x-small;\"><span style=\"font-family: Consolas; font-size: x-small;\">&nbsp;</span></span></p>\n<div style=\"background-color: white; color: black;\">\n<pre> <span style=\"color: blue;\">var</span> fetchXml = <span style=\"color: blue;\">new</span> MyStringBuilder();\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;fetch mapping='logical'&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;entity name='contact'&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;filter type='and'&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;condition attribute='contactid' operator='eq' value='\"</span> + contactID + <span style=\"color: #a31515;\">\"' /&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;/filter&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;link-entity name='account' from='accountid' to='parentcustomerid' link-type='inner' alias='account'&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;attribute name='accountid' /&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;attribute name='name' /&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;/link-entity&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;/entity&gt;\"</span>);\r\n    fetchXml.append(<span style=\"color: #a31515;\">\"&lt;/fetch&gt;\"</span>);</pre>\n<pre></pre>\n</div>",
    "PostedDate": "2012-05-10T15:05:46.777-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "835450",
    "ThreadId": "355377",
    "Html": "<p>Hey Gary.</p>\r\n<p>When you want to get account id and account name using fetch, the target entity should be account instead of contact. At some stage, you can say \"retrieve contact information with the related account informaiton\", but mainly you are focusing on the contact inforamtion.</p>\r\n<p>Second, the easy and accurate way to generate fetch xml in CRM 2011 is to use <strong><em><span style=\"text-decoration: underline;\"><span style=\"color: #888888;\">Advanced Find </span></span></em></strong></p>\r\n<p><strong><em><span style=\"text-decoration: underline;\"></span></em></strong>&nbsp;This is the fetch XML i used to get the account information using the contact id. Hope this helps.</p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">fetch</span> <span style=\"color: red;\">version</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">1.0</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">output-format</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">xml-platform</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">mapping</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">logical</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">distinct</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">true</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n  <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">entity</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">account</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">attribute</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">name</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">attribute</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">primarycontactid</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">attribute</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">telephone1</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">attribute</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">accountid</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">order</span> <span style=\"color: red;\">attribute</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">name</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">descending</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">false</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n    <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">link-entity</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">contact</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">from</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">parentcustomerid</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">to</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">accountid</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">alias</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">aa</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n      <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">filter</span> <span style=\"color: red;\">type</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">and</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\r\n        <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">condition</span> <span style=\"color: red;\">attribute</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">contactid</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">operator</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">eq</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">uiname</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">Jaimie Ji</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">uitype</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">contact</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">value</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">{CD4888D5-7F3B-E111-95CD-000C294FB247}</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\r\n      <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">filter</span><span style=\"color: blue;\">&gt;</span>\r\n    <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">link-entity</span><span style=\"color: blue;\">&gt;</span>\r\n  <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">entity</span><span style=\"color: blue;\">&gt;</span>\r\n<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">fetch</span><span style=\"color: blue;\">&gt;</span>\r\n</pre>\r\n</div>",
    "PostedDate": "2012-05-12T03:31:46.29-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "835648",
    "ThreadId": "355377",
    "Html": "\r\n<pre style=\"word-wrap:break-word; font-size:10.0pt; font-family:Tahoma; color:black\">Thank you so much for the reply!  Were you able to fetch using an aggregate query?\n\nSent from my Samsung Captivate(tm) on AT&T\n\njaimieji &lt;notifications@codeplex.com&gt; wrote:\n\n</pre>\r\n<div>\r\n<p>From: jaimieji</p>\r\n<div id=\"ThreadNotificationPostBody\">\r\n<p>Hey Gary.</p>\r\n<p>When you want to get account id and account name using fetch, the target entity should be account instead of contact. At some stage, you can say &quot;retrieve contact information with the related account informaiton&quot;, but mainly you are focusing on the contact\r\n inforamtion.</p>\r\n<p>Second, the easy and accurate way to generate fetch xml in CRM 2011 is to use <strong>\r\n<em><span style=\"text-decoration:underline\"><span style=\"color:#888888\">Advanced Find\r\n</span></span></em></strong></p>\r\n<p><strong><em><span style=\"text-decoration:underline\"></span></em></strong>This is the fetch XML i used to get the account information using the contact id. Hope this helps.</p>\r\n<div style=\"color:black; background-color:white\">\r\n<pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">fetch</span> <span style=\"color:red\">version</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">1.0</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">output-format</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">xml-platform</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">mapping</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">logical</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">distinct</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">true</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n  <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">entity</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">account</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">attribute</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">name</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">attribute</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">primarycontactid</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">attribute</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">telephone1</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">attribute</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">accountid</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">order</span> <span style=\"color:red\">attribute</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">name</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">descending</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">false</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">link-entity</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">contact</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">from</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">parentcustomerid</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">to</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">accountid</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">alias</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">aa</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n      <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">filter</span> <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">and</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">&gt;</span>\r\n        <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">condition</span> <span style=\"color:red\">attribute</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">contactid</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">operator</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">eq</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">uiname</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Jaimie Ji</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">uitype</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">contact</span><span style=\"color:black\">&quot;</span> <span style=\"color:red\">value</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">{CD4888D5-7F3B-E111-95CD-000C294FB247}</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n      <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">filter</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">link-entity</span><span style=\"color:blue\">&gt;</span>\r\n  <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">entity</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">fetch</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n</div>\r\n</div>\r\n",
    "PostedDate": "2012-05-12T18:24:18.77-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "835792",
    "ThreadId": "355377",
    "Html": "\r\n<div>\r\n<p><span style=\"font-size:11.0pt; font-family:\">I thought about this again and I am not so sure that is correct. I have been using fetch XML and CRM for many years and I have always been able to not only get the primary entity attribute field values but also\r\n the field values of the linked entities regardless of which entity is the primary entity. Both of our queries should have returned the same information and they both do. It seems to only be an issue with the aliased linked tables because it is returning the\r\n correct values, the toolkit is just not adding the values to the JSON correctly. It is adding extra information as part of the actual value. Your example is cleaner but I think they should both work. In your example, what would happen if you also wanted the\r\n contact’s full name also?</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">It also does this when you do an aggregate query like the following.</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas; color:blue\">var</span><span style=\"font-size:9.5pt; font-family:Consolas\"> fetchXml =\r\n<span style=\"color:blue\">new</span> MyStringBuilder();</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;fetch mapping='logical' aggregate='true'&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;entity name='invoice' &gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;attribute name='invoiceid' aggregate='count' alias='count' /&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;filter&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;condition attribute='rsi_accountid' operator='eq' value='&quot;</span> &#43; accountID &#43;\r\n<span style=\"color:maroon\">&quot;' /&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;/filter&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;/entity&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\">fetchXml.append(<span style=\"color:maroon\">&quot;&lt;/fetch&gt;&quot;</span>);</span></p>\r\n<p style=\"text-autospace:none\"><span style=\"font-size:9.5pt; font-family:Consolas\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">The advanced find method is nice but the Stunnware FetchXML Wizard is a lot better and easier to use I think. I use it for all of the queries I have written for server side plugin usage and they all work exactly\r\n as expected and some of them are crazy complicated.</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Is it possible that there is just a minor bug in the way that the toolkit is adding the values to the JSON?</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Either way, great toolkit. I love it and it has saved me a ton of work. I normally do not like using other people’s code in my own because then I have to support it down the road. I am only using the toolkit because\r\n I needed a way to use fetch XML queries in JavaScript from a web page that is not a CRM form and I could never figure out a way to get a reference to CrmEncodeDecode.CrmXmlEncode when the JavaScript was in a web resource and not inside an entity form. I added\r\n a reference to the ClientGlobalContext.js.aspx and even though the reference was good, I still got the error that CrmEncodeDecode was undefined. So after dealing with that issue for 2 days, I found the toolkit and have been using it ever since and it works\r\n great. I am just having issues whenever there are linked entities involved.</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<p><b><i><span style=\"font-size:11.0pt; font-family:\">Gary Rasmussen</span></i></b></p>\r\n<p><i><span style=\"font-size:9.0pt; font-family:\">Direct: 208-946-4364<br>\r\nToll Free: 877-476-2586</span></i></p>\r\n<p><i><span style=\"font-size:9.0pt; font-family:\"><a href=\"www.rocktonsoftware.com\">www.rocktonsoftware.com</a></span></i><b><span style=\"font-size:11.0pt; font-family:\"></span></b></p>\r\n<p><b><span style=\"font-size:11.0pt; font-family:\"></span></b></p>\r\n<p><a href=\"http://www.rocktonsoftware.com/\"><span style=\"font-size:11.0pt; font-family:\"><img border=\"0\" width=\"160\" height=\"52\" id=\"Picture_x0020_3\" src=\"cid:image001.png@01CD3108.3C5F2460\" alt=\"Description: rocktonHOR.png\"></span></a><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><b><i><span style=\"font-size:8.0pt; font-family:\"></span></i></b><b><i><span style=\"font-size:8.0pt; font-family:\">Work Simpler & Easier</span></i></b></p>\r\n</div>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<div style=\"border:none; border-top:solid #B5C4DF 1.0pt; padding:3.0pt 0in 0in 0in\">\r\n<p><b><span style=\"font-size:10.0pt; font-family:\">From:</span></b><span style=\"font-size:10.0pt; font-family:\"> jaimieji [email removed]\r\n<br>\r\n<b>Sent:</b> Saturday, May 12, 2012 3:32 AM<br>\r\n<b>To:</b> Gary Rasmussen<br>\r\n<b>Subject:</b> Re: XrmServiceToolkit.Soap.Fetch with a linked entity query [xrmservicetoolkit:355377]</span></p>\r\n</div>\r\n</div>\r\n<p></p>\r\n<p><span style=\"font-size:9.0pt; font-family:\">From: jaimieji</span></p>\r\n<div id=\"ThreadNotificationPostBody\" style=\"margin-bottom:24.0pt\">\r\n<p><span style=\"font-size:9.0pt; font-family:\">Hey Gary.</span></p>\r\n<p><span style=\"font-size:9.0pt; font-family:\">When you want to get account id and account name using fetch, the target entity should be account instead of contact. At some stage, you can say &quot;retrieve contact information with the related account informaiton&quot;,\r\n but mainly you are focusing on the contact inforamtion.</span></p>\r\n<p><span style=\"font-size:9.0pt; font-family:\">Second, the easy and accurate way to generate fetch xml in CRM 2011 is to use\r\n<em><b><u><span style=\"font-family:\">Advanced Find </span></u></b></em></span></p>\r\n<p><span style=\"font-size:9.0pt; font-family:\">This is the fetch XML i used to get the account information using the contact id. Hope this helps.</span></p>\r\n<div>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">fetch</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">version</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">1.0</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">output-format</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">xml-platform</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">mapping</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">logical</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">distinct</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">true</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">  </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">entity</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">account</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">attribute</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">name</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">attribute</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">primarycontactid</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">attribute</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">telephone1</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">attribute</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">accountid</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">order</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">attribute</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">name</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">descending</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">false</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">link-entity</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">name</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">contact</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">from</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">parentcustomerid</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">to</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">accountid</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">alias</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">aa</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">      </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">filter</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">type</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">and</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">        </span><span style=\"font-size:11.5pt; color:blue\">&lt;</span><span style=\"font-size:11.5pt; color:#A31515\">condition</span><span style=\"font-size:11.5pt; color:black\"> </span><span style=\"font-size:11.5pt; color:red\">attribute</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">contactid</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">operator</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">eq</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">uiname</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">Jaimie Ji</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">uitype</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">contact</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:red\">value</span><span style=\"font-size:11.5pt; color:blue\">=</span><span style=\"font-size:11.5pt; color:black\">&quot;</span><span style=\"font-size:11.5pt; color:blue\">{CD4888D5-7F3B-E111-95CD-000C294FB247}</span><span style=\"font-size:11.5pt; color:black\">&quot; </span><span style=\"font-size:11.5pt; color:blue\">/&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">      </span><span style=\"font-size:11.5pt; color:blue\">&lt;/</span><span style=\"font-size:11.5pt; color:#A31515\">filter</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">    </span><span style=\"font-size:11.5pt; color:blue\">&lt;/</span><span style=\"font-size:11.5pt; color:#A31515\">link-entity</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:black\">  </span><span style=\"font-size:11.5pt; color:blue\">&lt;/</span><span style=\"font-size:11.5pt; color:#A31515\">entity</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n<pre style=\"background:white\"><span style=\"font-size:11.5pt; color:blue\">&lt;/</span><span style=\"font-size:11.5pt; color:#A31515\">fetch</span><span style=\"font-size:11.5pt; color:blue\">&gt;</span><span style=\"font-size:11.5pt; color:black\"></span></pre>\r\n</div>\r\n</div>\r\n</div>\r\n",
    "PostedDate": "2012-05-13T13:22:58.967-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "835931",
    "ThreadId": "355377",
    "Html": "<p>Hey Gary.</p>\r\n<p>Thanks for your support. I will do more testing and i do feel it could be a bug in the toolkit. Will keep you updated.</p>\r\n<p>Best Regards,</p>\r\n<p>Jaimie</p>",
    "PostedDate": "2012-05-14T00:58:30.483-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]