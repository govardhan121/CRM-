[
  {
    "Id": "1113076",
    "ThreadId": "463902",
    "Html": "I would like to use XrmSvcToolk.retrieve synchronously.  Also, I would like to create a function that &quot;wraps&quot; the retrieve function so that I can use it other places in my code and so that my code stays small.<br />\n\r<br />\nI'd like to call it like this:<br />\n<pre><code>var order = comRetrieveSingleRecord(&quot;SalesOrder&quot;, orderId, false, getProductAlerts);\nvar warehouseId = order.aa_WarehouseId.Id;\n</code></pre>\n\nBut it doesn't seem to return synchronously.<br />\n\r<br />\nHere's my definition for comRetrieveSingleRecord, note, I added in &quot;if async === false, then return result&quot;<br />\n<pre><code>//Gets all the info for a single record if async = false, returns data directly\nfunction comRetrieveSingleRecord(entityName, id, async, successCallback) {\n    comToConsole(&quot;comRetrieveSingleRecord&quot;);\n    XrmSvcToolkit.retrieve({\n        entityName: entityName,\n        id: id,\n        async: async,\n        successCallback: function (result) {\n            if (async === false) {\n                return result;\n            } else {\n                successCallback(result);\n            }\n        },\n        errorCallback: function (error) {\n            alert(&quot;Error&quot;);\n        }\n    });\n}\n</code></pre>\n\nAm I doing something wrong?  Or is this impossible?<br />\n",
    "PostedDate": "2013-10-28T07:07:26.35-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1113129",
    "ThreadId": "463902",
    "Html": "Nathan,\r<br />\n<br />\nHave you looked at the samples in: XrvSvcToolkit.Samples.retrieve.js \r<br />\n<br />\nI think that will do what you want.  Let me know if it doesn't.\r<br />\n<br />\nThanks, Mitch<br />\n",
    "PostedDate": "2013-10-28T08:37:46.267-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1113132",
    "ThreadId": "463902",
    "Html": "\r\n<div>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Mitch, </span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Where do you see that? It’s not in the download as far as I can tell??</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Or do you mean XrmSvcToolkitTest.aspx?</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Nathan</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<div style=\"border:none; border-top:solid #B5C4DF 1.0pt; padding:3.0pt 0in 0in 0in\">\r\n<p><b><span style=\"font-size:10.0pt; font-family:\"></span></b></p>\r\n</div>\r\n</div>\r\n</div>\r\n",
    "PostedDate": "2013-10-28T08:40:24.913-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1113136",
    "ThreadId": "463902",
    "Html": "It's in the Source Code page of the project:\r<br />\n<br />\n<a href=\"http://xrmsvctoolkit.codeplex.com/SourceControl/latest#Samples/XrvSvcToolkit.Samples.retrieve.js\" rel=\"nofollow\">http://xrmsvctoolkit.codeplex.com/SourceControl/latest#Samples/XrvSvcToolkit.Samples.retrieve.js</a><br />\n",
    "PostedDate": "2013-10-28T08:46:16.497-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1113149",
    "ThreadId": "463902",
    "Html": "\r\n<div>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Ok, so in the samples is this function:</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:blue\">function</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"> retrieveOperationAsync(contactId)</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">{</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">XrmSvcToolkit.retrieve({</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">entityName:\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;Contact&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">id: contactId,</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">select: [</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;ContactId&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;FirstName&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;MiddleName&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;LastName&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;GenderCode&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;FamilyStatusCode&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;CreditLimit&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;BirthDate&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;DoNotEMail&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;DoNotPhone&quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">],</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">async:\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:blue\">true</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">,</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">successCallback:\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:blue\">function</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"> (result)</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">{</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">alert(</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot;Retrieve just retrieved: &quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">\r\n &#43; result.FirstName &#43; </span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot; &quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"> &#43; result.MiddleName &#43;\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:#A31515\">&quot; &quot;</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"> &#43; result.LastName);</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"></span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">},</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">errorCallback:\r\n</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:blue\">function</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"> (error)</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">{</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\"></span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:blue\">throw</span><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">\r\n error;</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">}</span></p>\r\n<p style=\"line-height:17.55pt; background:white\"><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">});</span></p>\r\n<p><span lang=\"EN\" style=\"font-size:9.5pt; font-family:Consolas; color:black\">}</span><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Could I change is to that instead of a alert it would return(result) ?</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Then can I call the function like this:</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p style=\"text-indent:.5in\"><span style=\"font-size:11.0pt; font-family:\">var contact = retrieveOperationAsync(contactId);\r\n</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">var firstName = contact.FirstName;</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">thanks for your help, </span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Basically I’m looking for a simpler way of calling the function, and continuing on with my code in the same function, rather than having to create a successCallback function…\r\n</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Hopefully that makes sense.</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Nathan</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<div style=\"border:none; border-top:solid #B5C4DF 1.0pt; padding:3.0pt 0in 0in 0in\">\r\n<p><b><span style=\"font-size:10.0pt; font-family:\">From:</span></b><span style=\"font-size:10.0pt; font-family:\"> Nathan Vanderhoof\r\n<br>\r\n<b>Sent:</b> Monday, October 28, 2013 3:41 PM<br>\r\n<b>To:</b> '[email removed]'<br>\r\n<b>Subject:</b> RE: Can we use Retrieve Single Record Syncronously? [xrmsvctoolkit:463902]</span></p>\r\n</div>\r\n</div>\r\n<p></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Mitch, </span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Where do you see that? It’s not in the download as far as I can tell??</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Or do you mean XrmSvcToolkitTest.aspx?</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Nathan</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<div style=\"border:none; border-top:solid #B5C4DF 1.0pt; padding:3.0pt 0in 0in 0in\">\r\n<p><b><span style=\"font-size:10.0pt; font-family:\"></span></b></p>\r\n</div>\r\n</div>\r\n</div>\r\n",
    "PostedDate": "2013-10-28T08:58:24.923-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1113157",
    "ThreadId": "463902",
    "Html": "Nathan, \r<br />\n<br />\nThere are two ways to make a synchronous call. You can use the callback pattern as you have illustrated in your code (or what Mitch has demonstrated in his samples). \r<br />\n<br />\nAlternatively, you can simply receive the result directly from the return value of the function call, such as this one. <br />\n<pre><code>var result = XrmSvcToolkit.retrieve({\n  entityName: &quot;Contact&quot;,\n  id: contactId,\n  select: [&quot;ContactId&quot;, &quot;FirstName&quot;, &quot;MiddleName&quot;, &quot;LastName&quot;, &quot;GenderCode&quot;, &quot;FamilyStatusCode&quot;, &quot;CreditLimit&quot;, &quot;BirthDate&quot;, &quot;DoNotEMail&quot;, &quot;DoNotPhone&quot;],\n  async: false\n});\n\nalert(&quot;Retrieve just retrieved: &quot; + result.FirstName + &quot; &quot; + result.MiddleName + &quot; &quot; + result.LastName);</code></pre>\n\nThis way, you don't need an errorCallback, since it will throw an exception anyway should an error occurs. \r<br />\n<br />\nWith your code, you would want to change async: true to async: false. <br />\n",
    "PostedDate": "2013-10-28T09:06:59.723-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": "2013-11-06T02:52:00.127-08:00"
  },
  {
    "Id": "1113160",
    "ThreadId": "463902",
    "Html": "Nathan,\r<br />\n<br />\nI am a bit confused here.  Why are you bothering with the async sample when you said you needed a synchronous method?\r<br />\n<br />\nUse this from the samples:<br />\n<pre><code>function retrieveOperationSync(contactId)\n{\n    return XrmSvcToolkit.retrieve({\n        entityName: &quot;Contact&quot;,\n        id: contactId,\n        select: [&quot;ContactId&quot;, &quot;FirstName&quot;, &quot;MiddleName&quot;, &quot;LastName&quot;, &quot;GenderCode&quot;, &quot;FamilyStatusCode&quot;, &quot;CreditLimit&quot;, &quot;BirthDate&quot;, &quot;DoNotEMail&quot;, &quot;DoNotPhone&quot;, &quot;contact_owning_user/SystemUserId&quot;, &quot;contact_owning_user/FullName&quot;],\n        expand: [&quot;contact_owning_user&quot;],\n        async: false\n    });\n}\n</code></pre>\n\n",
    "PostedDate": "2013-10-28T09:14:36.437-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": "2013-11-06T02:51:51.36-08:00"
  },
  {
    "Id": "1113211",
    "ThreadId": "463902",
    "Html": "\r\n<div>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Mitch and Daniel, </span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Ok, I’ll do little bit more playing around with it and post back with my results.</span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\">Nathan </span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<p><span style=\"font-size:11.0pt; font-family:\"></span></p>\r\n<div>\r\n<div style=\"border:none; border-top:solid #B5C4DF 1.0pt; padding:3.0pt 0in 0in 0in\">\r\n<p><b><span style=\"font-size:10.0pt; font-family:\"></span></b></p>\r\n</div>\r\n</div>\r\n</div>\r\n",
    "PostedDate": "2013-10-28T10:15:04.883-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1118798",
    "ThreadId": "463902",
    "Html": "Mitch and Daniel, \r<br />\n<br />\nThe Synchronous samples in the Source Code section were a big help!\r<br />\n<br />\nThis is what I came up with in the end:\r<br />\n<br />\nI put this in my &quot;Common&quot; javascript library that is loaded for every entity:<br />\n<pre><code>function comRetrieveSingleRecordSync(entityName, id, fields) {\n    comToConsole(&quot;comRetrieveSingleRecordSync&quot;);\n    return XrmSvcToolkit.retrieve({\n        entityName: entityName,\n        id: id,\n        select: [fields],\n        expand: null,\n        async: false\n    });\n}</code></pre>\n\nAnd then I can call it like this:<br />\n<pre><code>var state = &quot;&quot;;\nvar stateAbbreviation = &quot;&quot;;\n\nstate = comRetrieveSingleRecordSync(&quot;Aa_stateprovince&quot;, stateId, &quot;Aa_Abbreviation&quot;);\nstateAbbreviation = state.Aa_Abbreviation;\n</code></pre>\n\nMany thanks for your help!\r<br />\nNate<br />\n",
    "PostedDate": "2013-11-06T02:49:33.677-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]